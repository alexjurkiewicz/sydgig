{% extends "base.html" %}
{% set active_page = 'submit' -%}

{% block head %}
<title>SydGig</title>
<link rel="stylesheet" href="/static/js/jquery-ui.min.css" />
<script type="text/javascript" src="/static/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="/static/js/jquery-ui.min.js"></script>
<script type="text/javascript">
    var names = [ "", "", "", "", "", "Album Launch", "Fitz Fest", "OusideIn Festival", "Ears Have Ears #4", "Europe tour farewell party" ];
    var artists = [ "Rainbow Chan", "Holly Throsby", "Housewives", "Gardland", "The Laurels", "Julia Why?", "Palms", "Yes I'm Leaving", "Songs", "Royal Headache", "The Preatures", "Royal Chant", "Unity Floors", "Matt Banham", "Ted Danson with Wolves", "Lowlifes", "Dereb The Ambassador", "Infinity Broke", "Sophie Hutchings", "Day Ravies", "Takadimi", "Lines of Flight", "Hermitude", "The Ocean Party", "Family", "Collarbones", "Cosmo's Midnight", "Gnome", "I'lls", "Oily Boys", "The Wednesday Night", "Jordan Leser", "Destiny 3000", "afxjim", "Revier", "New War" ];
    var venues = [ "Goodgod Small Club", "The Union", "Brighton Up", "Oxford Art Factory", "Camelot", "The Standard", "Upstairs Beresford", "Paddington Uniting Church", "Cafe Church Space", "107 Projects", "Lamps", "505s", "Frankie's", "Green Room Lounge", "Factory Floor", "The Vanguard", "Newtown Town Hall", "Metro Theatre", "The Enmore Theatre", "Petersham Bowls Club", "Marrickville Bowls Club", "Carriageworks", "The Annandale Hotel", "The Factory Theatre", "The Square", "Black Wire", "The Basement", "Midnight Special" ];
    $(document).ready(function () {
        document.getElementById('name-input').placeholder = names[Math.floor(Math.random() * names.length)];
        document.getElementById('first-artist-input').placeholder = artists[Math.floor(Math.random() * artists.length)];
        document.getElementById('venue-input').placeholder = venues[Math.floor(Math.random() * venues.length)];
    });
    function addArtistField() {
        var newinput = document.createElement('input');
        newinput.className = "artist-input form-control";
        newinput.type = "text";
        newinput.name = "artists";
        newinput.placeholder = artists[Math.floor(Math.random() * artists.length)];
        document.getElementById('gigAddArtists').appendChild(newinput);
        newinput.focus();
    }
    $(function () {
        $("#datepicker").datepicker({ dateFormat: "DD d MM, yy", firstDay: 1, minDate: 0, maxDate: 180, showOtherMonths: true, selectOtherMonths: true, });
    });
</script>
{% endblock %}

{% block content %}
<div class="container" style="max-width: 500px">
<h2>Submit a new gig</h2>
<form role="form" action="/takesubmit" method="post" id="gig-add">
    <div class="form-group">
        <label for="date">Date</label>
        <input class="form-control" type="text" id="datepicker" name="date" placeholder="{{ date_today()|longdate }}" value="{{ date_today()|longdate }}">
        <!-- <div name="date" id="datepicker"></div> -->
    </div>
    <div class="form-group">
        <label for="time">Time</label><br>
        <select class="form-control" name="time" style="display: inline;">
            {# {% for hour in ['00','01','02','03','04','05','06','07','08','09','10','11'] %}
            {% for min in ['00', '30'] %}
            <option value="{{ hour }}:{{ min }}"{% if hour == '08' and min == '30' %} selected="selected"{% endif %}>{{ hour }}:{{ min }}</option>
            {% endfor %}
            {% endfor %} #}
            <option value="00:00">00:00</option>
            <option value="00:30">00:30</option>
            <option value="01:00">01:00</option>
            <option value="01:30">01:30</option>
            <option value="02:00">02:00</option>
            <option value="02:30">02:30</option>
            <option value="03:00">03:00</option>
            <option value="03:30">03:30</option>
            <option value="04:00">04:00</option>
            <option value="04:30">04:30</option>
            <option value="05:00">05:00</option>
            <option value="05:30">05:30</option>
            <option value="06:00">06:00</option>
            <option value="06:30">06:30</option>
            <option value="07:00">07:00</option>
            <option value="07:30">07:30</option>
            <option value="08:00">08:00</option>
            <option value="08:30" selected="selected">08:30</option>
            <option value="09:00">09:00</option>
            <option value="09:30">09:30</option>
            <option value="10:00">10:00</option>
            <option value="10:30">10:30</option>
            <option value="11:00">11:00</option>
            <option value="11:30">11:30</option>
        </select>
    </div>

    <div class="form-group">
        <label for="venue">Where?</label>
        <input class="form-control" type="text" name="venue" id="venue-input">
    </div>

    <div id="gigAddArtists" class="form-group">
        <label for "artists">Who?</label>
        <input class="artist-input form-control" type="text" name="artists" id="first-artist-input">
    </div>
    <button type="button" class="btn btn-default btn-sm" onclick="addArtistField();">
        <span class="glyphicon glyphicon-plus"></span> Add another artist.
    </button>
    <br>
    <br>
    <div class="form-group">
        <label for="gigname">Gig Name? (optional)</label>
        <input class="form-control" type="text" name="gigname" id="name-input">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>

</form>
</div>
{% endblock %}

{% block footer %}
{{ super() }}
{% endblock %}
